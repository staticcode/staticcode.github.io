jQuery(function() {
	initCarousel();
});

function initCarousel() {
	jQuery('div.reviews').scrollGallery({
		mask: 'div.gmask',
		slider: '.slideset',
		slides: '.slide',
		currentNumber: 'span.cur-num',
		totalNumber: 'span.all-num',
		disableWhileAnimating: true,
		circularRotation: true,
		pauseOnHover: true,
		autoRotation: true,
		maskAutoSize: false,
		switchTime: 7000,
		animSpeed: 600,
		step: 1
	});
};
(function($){function ScrollGallery(options){this.options=$.extend({mask:'div.mask',slider:'>*',slides:'>*',activeClass:'active',disabledClass:'disabled',btnPrev:'a.btn-prev',btnNext:'a.btn-next',generatePagination:false,pagerList:'<ul>',pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:'a',pagerLinks:'.pagination li',currentNumber:'span.current-num',totalNumber:'span.total-num',btnPlay:'.btn-play',btnPause:'.btn-pause',btnPlayPause:'.btn-play-pause',galleryReadyClass:'gallery-js-ready',autorotationActiveClass:'autorotation-active',autorotationDisabledClass:'autorotation-disabled',stretchSlideToMask:false,circularRotation:true,disableWhileAnimating:false,autoRotation:false,pauseOnHover:isTouchDevice?false:true,maskAutoSize:false,switchTime:4000,animSpeed:600,event:'click',swipeThreshold:15,handleTouch:true,vertical:false,useTranslate3D:false,step:false},options);this.init();}
ScrollGallery.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.refreshPosition();this.refreshState(true);this.resumeRotation();this.makeCallback('onInit',this);}},findElements:function(){this.fullSizeFunction=this.options.vertical?'outerHeight':'outerWidth';this.innerSizeFunction=this.options.vertical?'height':'width';this.slideSizeFunction='outerHeight';this.maskSizeProperty='height';this.animProperty=this.options.vertical?'marginTop':'marginLeft';this.gallery=$(this.options.holder).addClass(this.options.galleryReadyClass);this.mask=this.gallery.find(this.options.mask);this.slider=this.mask.find(this.options.slider);this.slides=this.slider.find(this.options.slides);this.btnPrev=this.gallery.find(this.options.btnPrev);this.btnNext=this.gallery.find(this.options.btnNext);this.currentStep=0;this.stepsCount=0;if(this.options.step===false){var activeSlide=this.slides.filter('.'+this.options.activeClass);if(activeSlide.length){this.currentStep=this.slides.index(activeSlide);}}
this.calculateOffsets();if(typeof this.options.generatePagination==='string'){this.pagerLinks=$();this.buildPagination();}else{this.pagerLinks=this.gallery.find(this.options.pagerLinks);this.attachPaginationEvents();}
this.btnPlay=this.gallery.find(this.options.btnPlay);this.btnPause=this.gallery.find(this.options.btnPause);this.btnPlayPause=this.gallery.find(this.options.btnPlayPause);this.curNum=this.gallery.find(this.options.currentNumber);this.allNum=this.gallery.find(this.options.totalNumber);},attachEvents:function(){var self=this;this.bindHandlers(['onWindowResize']);$(window).bind('load resize orientationchange',this.onWindowResize);if(this.btnPrev.length){this.prevSlideHandler=function(e){e.preventDefault();self.prevSlide();};this.btnPrev.bind(this.options.event,this.prevSlideHandler);}
if(this.btnNext.length){this.nextSlideHandler=function(e){e.preventDefault();self.nextSlide();};this.btnNext.bind(this.options.event,this.nextSlideHandler);}
if(this.options.pauseOnHover&&!isTouchDevice){this.hoverHandler=function(){if(self.options.autoRotation){self.galleryHover=true;self.pauseRotation();}};this.leaveHandler=function(){if(self.options.autoRotation){self.galleryHover=false;self.resumeRotation();}};this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler});}
if(this.btnPlay.length){this.btnPlayHandler=function(e){e.preventDefault();self.startRotation();};this.btnPlay.bind(this.options.event,this.btnPlayHandler);}
if(this.btnPause.length){this.btnPauseHandler=function(e){e.preventDefault();self.stopRotation();};this.btnPause.bind(this.options.event,this.btnPauseHandler);}
if(this.btnPlayPause.length){this.btnPlayPauseHandler=function(e){e.preventDefault();if(!self.gallery.hasClass(self.options.autorotationActiveClass)){self.startRotation();}else{self.stopRotation();}};this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler);}
if(isTouchDevice&&this.options.useTranslate3D){this.slider.css({'-webkit-transform':'translate3d(0px, 0px, 0px)'});}
if(isTouchDevice&&this.options.handleTouch&&window.Hammer&&this.mask.length){this.swipeHandler=Hammer(this.mask[0],{dragBlockHorizontal:!this.options.vertical,dragBlockVertical:this.options.vertical,dragMinDistance:1,behavior:{touchAction:this.options.vertical?'pan-x':'pan-y'}}).on('touch release '+(self.options.vertical?'dragup dragdown':'dragleft dragright'),function(e){switch(e.type){case'touch':if(self.galleryAnimating){e.gesture.stopDetect();}else{self.pauseRotation();self.originalOffset=parseFloat(self.slider.css(self.animProperty));}
break;case'dragup':case'dragdown':case'dragleft':case'dragright':e.gesture.preventDefault();var tmpOffset=self.originalOffset+e.gesture[self.options.vertical?'deltaY':'deltaX'];tmpOffset=Math.max(Math.min(0,tmpOffset),self.maxOffset);self.slider.css(self.animProperty,tmpOffset);break;case'release':self.resumeRotation();if(Math.abs(e.gesture[self.options.vertical?'deltaY':'deltaX'])>self.options.swipeThreshold){if(e.gesture.direction=='left'||e.gesture.direction=='up'){self.nextSlide();}else{self.prevSlide();}}else{self.switchSlide();}}});}},onWindowResize:function(){if(!this.galleryAnimating){this.calculateOffsets();this.refreshPosition();this.buildPagination();this.refreshState();this.resizeQueue=false;}else{this.resizeQueue=true;}},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1);this.tmpProps={};this.tmpProps[this.animProperty]=this.getStepOffset();this.slider.stop().css(this.tmpProps);},calculateOffsets:function(){var self=this,tmpOffset,tmpStep;if(this.options.stretchSlideToMask){var tmpObj={};tmpObj[this.innerSizeFunction]=this.mask[this.innerSizeFunction]();this.slides.css(tmpObj);}
this.maskSize=this.mask[this.innerSizeFunction]();this.sumSize=this.getSumSize();this.maxOffset=this.maskSize-this.sumSize;if(this.options.vertical&&this.options.maskAutoSize){this.options.step=1;this.stepsCount=this.slides.length;this.stepOffsets=[0];tmpOffset=0;for(var i=0;i<this.slides.length;i++){tmpOffset-=$(this.slides[i])[this.fullSizeFunction](true);this.stepOffsets.push(tmpOffset);}
this.maxOffset=tmpOffset;return;}
if(typeof this.options.step==='number'&&this.options.step>0){this.slideDimensions=[];this.slides.each($.proxy(function(ind,obj){self.slideDimensions.push($(obj)[self.fullSizeFunction](true));},this));this.stepOffsets=[0];this.stepsCount=1;tmpOffset=tmpStep=0;while(tmpOffset>this.maxOffset){tmpOffset-=this.getSlideSize(tmpStep,tmpStep+this.options.step);tmpStep+=this.options.step;this.stepOffsets.push(Math.max(tmpOffset,this.maxOffset));this.stepsCount++;}}else{this.stepSize=this.maskSize;this.stepsCount=1;tmpOffset=0;while(tmpOffset>this.maxOffset){tmpOffset-=this.stepSize;this.stepsCount++;}}},getSumSize:function(){var sum=0;this.slides.each($.proxy(function(ind,obj){sum+=$(obj)[this.fullSizeFunction](true);},this));this.slider.css(this.innerSizeFunction,sum);return sum;},getStepOffset:function(step){step=step||this.currentStep;if(typeof this.options.step==='number'){return this.stepOffsets[this.currentStep];}else{return Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset));}},getSlideSize:function(i1,i2){var sum=0;for(var i=i1;i<Math.min(i2,this.slideDimensions.length);i++){sum+=this.slideDimensions[i];}
return sum;},buildPagination:function(){if(typeof this.options.generatePagination==='string'){if(!this.pagerHolder){this.pagerHolder=this.gallery.find(this.options.generatePagination);}
if(this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount){this.oldStepsCount=this.stepsCount;this.pagerHolder.empty();this.pagerList=$(this.options.pagerList).appendTo(this.pagerHolder);for(var i=0;i<this.stepsCount;i++){$(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(i+1);}
this.pagerLinks=this.pagerList.children();this.attachPaginationEvents();}}},attachPaginationEvents:function(){var self=this;this.pagerLinksHandler=function(e){e.preventDefault();self.numSlide(self.pagerLinks.index(e.currentTarget));};this.pagerLinks.bind(this.options.event,this.pagerLinksHandler);},prevSlide:function(){if(!(this.options.disableWhileAnimating&&this.galleryAnimating)){if(this.currentStep>0){this.currentStep--;this.switchSlide();}else if(this.options.circularRotation){this.currentStep=this.stepsCount-1;this.switchSlide();}}},nextSlide:function(fromAutoRotation){if(!(this.options.disableWhileAnimating&&this.galleryAnimating)){if(this.currentStep<this.stepsCount-1){this.currentStep++;this.switchSlide();}else if(this.options.circularRotation||fromAutoRotation===true){this.currentStep=0;this.switchSlide();}}},numSlide:function(c){if(this.currentStep!=c){this.currentStep=c;this.switchSlide();}},switchSlide:function(){var self=this;this.galleryAnimating=true;this.tmpProps={};this.tmpProps[this.animProperty]=this.getStepOffset();this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){self.galleryAnimating=false;if(self.resizeQueue){self.onWindowResize();}
self.makeCallback('onChange',self);self.autoRotate();}});this.refreshState();this.makeCallback('onBeforeChange',this);},refreshState:function(initial){if(this.options.step===1||this.stepsCount===this.slides.length){this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass);}
this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass);this.curNum.html(this.currentStep+1);this.allNum.html(this.stepsCount);if(this.options.maskAutoSize&&typeof this.options.step==='number'){this.tmpProps={};this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](true);this.mask.stop()[initial?'css':'animate'](this.tmpProps);}
if(!this.options.circularRotation){this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass);if(this.currentStep===0)this.btnPrev.addClass(this.options.disabledClass);if(this.currentStep===this.stepsCount-1)this.btnNext.addClass(this.options.disabledClass);}
this.gallery.toggleClass('not-enough-slides',this.sumSize<=this.maskSize);},startRotation:function(){this.options.autoRotation=true;this.galleryHover=false;this.autoRotationStopped=false;this.resumeRotation();},stopRotation:function(){this.galleryHover=true;this.autoRotationStopped=true;this.pauseRotation();},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass);this.gallery.removeClass(this.options.autorotationActiveClass);clearTimeout(this.timer);},resumeRotation:function(){if(!this.autoRotationStopped){this.gallery.addClass(this.options.autorotationActiveClass);this.gallery.removeClass(this.options.autorotationDisabledClass);this.autoRotate();}},autoRotate:function(){var self=this;clearTimeout(this.timer);if(this.options.autoRotation&&!this.galleryHover&&!this.autoRotationStopped){this.timer=setTimeout(function(){self.nextSlide(true);},this.options.switchTime);}else{this.pauseRotation();}},bindHandlers:function(handlersList){var self=this;$.each(handlersList,function(index,handler){var origHandler=self[handler];self[handler]=function(){return origHandler.apply(self,arguments);};});},makeCallback:function(name){if(typeof this.options[name]==='function'){var args=Array.prototype.slice.call(arguments);args.shift();this.options[name].apply(this,args);}},destroy:function(){$(window).unbind('load resize orientationchange',this.onWindowResize);this.btnPrev.unbind(this.options.event,this.prevSlideHandler);this.btnNext.unbind(this.options.event,this.nextSlideHandler);this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler);this.gallery.unbind('mouseenter',this.hoverHandler);this.gallery.unbind('mouseleave',this.leaveHandler);this.stopRotation();this.btnPlay.unbind(this.options.event,this.btnPlayHandler);this.btnPause.unbind(this.options.event,this.btnPauseHandler);this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler);if(this.swipeHandler){this.swipeHandler.dispose();}
var unneededClasses=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(unneededClasses.join(' '));this.slider.add(this.slides).removeAttr('style');if(typeof this.options.generatePagination==='string'){this.pagerHolder.empty();}}};var isTouchDevice=/Windows Phone/.test(navigator.userAgent)||('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.scrollGallery=function(opt){return this.each(function(){$(this).data('ScrollGallery',new ScrollGallery($.extend(opt,{holder:this})));});};}(jQuery));
/*! Hammer.JS - v1.1.3 - 2014-05-20
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
!function(a,b){"use strict";function c(){d.READY||(s.determineEventTypes(),r.each(d.gestures,function(a){u.register(a)}),s.onTouch(d.DOCUMENT,n,u.detect),s.onTouch(d.DOCUMENT,o,u.detect),d.READY=!0)}
var d=function v(a,b){return new v.Instance(a,b||{})};d.VERSION="1.1.3",d.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.DOCUMENT=document,d.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&d.IS_MOBILE||d.HAS_POINTEREVENTS,d.CALCULATE_INTERVAL=25;var e={},f=d.DIRECTION_DOWN="down",g=d.DIRECTION_LEFT="left",h=d.DIRECTION_UP="up",i=d.DIRECTION_RIGHT="right",j=d.POINTER_MOUSE="mouse",k=d.POINTER_TOUCH="touch",l=d.POINTER_PEN="pen",m=d.EVENT_START="start",n=d.EVENT_MOVE="move",o=d.EVENT_END="end",p=d.EVENT_RELEASE="release",q=d.EVENT_TOUCH="touch";d.READY=!1,d.plugins=d.plugins||{},d.gestures=d.gestures||{};var r=d.utils={extend:function(a,c,d){for(var e in c)!c.hasOwnProperty(e)||a[e]!==b&&d||(a[e]=c[e]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},inStr:function(a,b){return a.indexOf(b)>-1},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}
for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}
return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(r.each(a,function(a){b.push(a.pageX),c.push(a.pageY),d.push(a.clientX),e.push(a.clientY)}),{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2})},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return 180*Math.atan2(d,c)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?a.clientX-b.clientX>0?g:i:a.clientY-b.clientY>0?h:f},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==h||a==f},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=r.toCamelCase(b);for(var f=0;f<e.length;f++){var g=b;if(e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1)),g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){r.each(b,function(b,d){r.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d),"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},s=d.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.on(a,b,c),d&&d(b)})},off:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.off(a,b,c),d&&d(b)})},onTouch:function(a,b,c){var f=this,g=function(e){var g,h=e.type.toLowerCase(),i=d.HAS_POINTEREVENTS,j=r.inStr(h,"mouse");j&&f.preventMouseEvents||(j&&b==m&&0===e.button?(f.preventMouseEvents=!1,f.shouldDetect=!0):i&&b==m?f.shouldDetect=1===e.buttons||t.matchType(k,e):j||b!=m||(f.preventMouseEvents=!0,f.shouldDetect=!0),i&&b!=o&&t.updatePointer(b,e),f.shouldDetect&&(g=f.doDetect.call(f,e,b,a,c)),g==o&&(f.preventMouseEvents=!1,f.shouldDetect=!1,t.reset()),i&&b==o&&t.updatePointer(b,e))};return this.on(a,e[b],g),g},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=e.length,g=b,h=e.trigger,i=f;b==m?h=q:b==o&&(h=p,i=e.length-(a.changedTouches?a.changedTouches.length:1)),i>0&&this.started&&(g=n),this.started=!0;var j=this.collectEventData(c,g,e,a);return b!=o&&d.call(u,j),h&&(j.changedLength=i,j.eventType=h,d.call(u,j),j.eventType=g,delete j.changedLength),g==o&&(d.call(u,j),this.started=!1),g},determineEventTypes:function(){var b;return b=d.HAS_POINTEREVENTS?a.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e[m]=b[0],e[n]=b[1],e[o]=b[2],e},getTouchList:function(a,b){if(d.HAS_POINTEREVENTS&&!(navigator.msPointerEnabled&&!navigator.pointerEnabled))return t.getTouchList();if(a.touches){if(b==n)return a.touches;var c=[],e=[].concat(r.toArray(a.touches),r.toArray(a.changedTouches)),f=[];return r.each(e,function(a){r.inArray(c,a.identifier)===!1&&f.push(a),c.push(a.identifier)}),f}
return a.identifier=1,[a]},collectEventData:function(a,b,c,d){var e=k;return r.inStr(d.type,"mouse")||t.matchType(j,d)?e=j:t.matchType(l,d)&&(e=l),{center:r.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:e,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return u.stopDetect()}}}},t=d.PointerEvent={pointers:{},getTouchList:function(){var a=[];return r.each(this.pointers,function(b){a.push(b)}),a},updatePointer:function(a,b){a==o||a!=o&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};return d[j]=c===(b.MSPOINTER_TYPE_MOUSE||j),d[k]=c===(b.MSPOINTER_TYPE_TOUCH||k),d[l]=c===(b.MSPOINTER_TYPE_PEN||l),d[a]},reset:function(){this.pointers={}}},u=d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:r.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;return r.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this),this.current&&(this.current.lastEvent=a),a.eventType==o&&this.stopDetect(),a}},stopDetect:function(){this.previous=r.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(a,b,c,e,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&a.timeStamp-i.timeStamp>d.CALCULATE_INTERVAL&&(b=i.center,c=a.timeStamp-i.timeStamp,e=a.center.clientX-i.center.clientX,f=a.center.clientY-i.center.clientY,h=!0),(a.eventType==q||a.eventType==p)&&(g.futureCalcEvent=a),(!g.lastCalcEvent||h)&&(j.velocity=r.getVelocity(c,e,f),j.angle=r.getAngle(b,a.center),j.direction=r.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a),a.velocityX=j.velocity.x,a.velocityY=j.velocity.y,a.interimAngle=j.angle,a.interimDirection=j.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,d=b.lastEvent||c;(a.eventType==q||a.eventType==p)&&(c.touches=[],r.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})}));var e=a.timeStamp-c.timeStamp,f=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;return this.getCalculatedData(a,d.center,e,f,g),r.extend(a,{startEvent:c,deltaTime:e,deltaX:f,deltaY:g,distance:r.getDistance(c.center,a.center),angle:r.getAngle(c.center,a.center),direction:r.getDirection(c.center,a.center),scale:r.getScale(c.touches,a.touches),rotation:r.getRotation(c.touches,a.touches)}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),r.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};d.Instance=function(a,b){var e=this;c(),this.element=a,this.enabled=!0,r.each(b,function(a,c){delete b[c],b[r.toCamelCase(c)]=a}),this.options=r.extend(r.extend({},d.defaults),b||{}),this.options.behavior&&r.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=s.onTouch(a,m,function(a){e.enabled&&a.eventType==m?u.startDetect(e,a):a.eventType==q&&u.detect(a)}),this.eventHandlers=[]},d.Instance.prototype={on:function(a,b){var c=this;return s.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})}),c},off:function(a,b){var c=this;return s.off(c.element,a,b,function(a){var d=r.inArray({gesture:a,handler:b});d!==!1&&c.eventHandlers.splice(d,1)}),c},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return r.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this},dispose:function(){var a,b;for(r.toggleBehavior(this.element,this.options.behavior,!1),a=-1;b=this.eventHandlers[++a];)r.off(this.element,b.gesture,b.handler);return this.eventHandlers=[],s.off(this.element,e[m],this.eventStartHandler),null}},function(a){function b(b,d){var e=u.current;if(!(d.options.dragMaxTouches>0&&b.touches.length>d.options.dragMaxTouches))switch(b.eventType){case m:c=!1;break;case n:if(b.distance<d.options.dragMinDistance&&e.name!=a)return;var j=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&b.distance>0)){var k=Math.abs(d.options.dragMinDistance/b.distance);j.pageX+=b.deltaX*k,j.pageY+=b.deltaY*k,j.clientX+=b.deltaX*k,j.clientY+=b.deltaY*k,b=u.extendEventData(b)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=b.distance)&&(b.dragLockToAxis=!0);var l=e.lastEvent.direction;b.dragLockToAxis&&l!==b.direction&&(b.direction=r.isVertical(l)?b.deltaY<0?h:f:b.deltaX<0?g:i),c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),d.trigger(a+b.direction,b);var q=r.isVertical(b.direction);(d.options.dragBlockVertical&&q||d.options.dragBlockHorizontal&&!q)&&b.preventDefault();break;case p:c&&b.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",b),c=!1);break;case o:c=!1}}
var c=!1;d.gestures.Drag={name:a,index:50,handler:b,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),d.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}},function(a){function b(b,d){var e=d.options,f=u.current;switch(b.eventType){case m:clearTimeout(c),f.name=a,c=setTimeout(function(){f&&f.name==a&&d.trigger(a,b)},e.holdTimeout);break;case n:b.distance>e.holdThreshold&&clearTimeout(c);break;case p:clearTimeout(c)}}
var c;d.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:b}}("hold"),d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==p&&b.trigger(this.name,a)}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==p){var c=a.touches.length,d=b.options;if(c<d.swipeMinTouches||c>d.swipeMaxTouches)return;(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},function(a){function b(b,d){var e,f,g=d.options,h=u.current,i=u.previous;switch(b.eventType){case m:c=!1;break;case n:c=c||b.distance>g.tapMaxDistance;break;case o:!r.inStr(b.srcEvent.type,"cancel")&&b.deltaTime<g.tapMaxTime&&!c&&(e=i&&i.lastEvent&&b.timeStamp-i.lastEvent.timeStamp,f=!1,i&&i.name==a&&e&&e<g.doubleTapInterval&&b.distance<g.doubleTapDistance&&(d.trigger("doubletap",b),f=!0),(!f||g.tapAlways)&&(h.name=a,d.trigger(h.name,b)))}}
var c=!1;d.gestures.Tap={name:a,index:100,handler:b,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),d.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){return b.options.preventMouse&&a.pointerType==j?void a.stopDetect():(b.options.preventDefault&&a.preventDefault(),void(a.eventType==q&&b.trigger("touch",a)))}},function(a){function b(b,d){switch(b.eventType){case m:c=!1;break;case n:if(b.touches.length<2)return;var e=Math.abs(1-b.scale),f=Math.abs(b.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;u.current.name=a,c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),f>d.options.transformMinRotation&&d.trigger("rotate",b),e>d.options.transformMinScale&&(d.trigger("pinch",b),d.trigger("pinch"+(b.scale<1?"in":"out"),b));break;case p:c&&b.changedLength<2&&(d.trigger(a+"end",b),c=!1)}}
var c=!1;d.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:b}}("transform"),"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:a.Hammer=d}(window);